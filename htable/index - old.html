<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>htable</title>
<style type="text/css">
/*初始化*/
*{
	margin:0;
	padding:0;
	list-style:none;
	font-size: 12px;
}
</style>
<link rel="stylesheet" type="text/css" href="css/htable.css">
</head>
<body>
<div class="htable-box">	
	<table class="htable" id="htable"></table>
</div>

<input type="button" value="更新" id="btt" />

<script src="js/jquery.js" type="text/javascript"></script>
<script src="js/htable-2.0.js" type="text/javascript"></script>
<script type="text/javascript">
	//替换函数(参数：当前value,当前value的父级数据)
	var replace=function(str,d,eq){
		return eq+'、<a href="javascript:;">编辑</a> <a href="javascript:;">删除</a>';
	};

	$("#htable").htable({
		data:{a:1},
		url:"data.json",
		mulSelect:'id',
		fixHeight : 100,
		method:'get',
		order:true,
		model:[
			{value:"序号",width:100,cla:'hide'},
			{key:"id",value:"ID",width:100,order:'id,name'},
			{key:"name",value:"姓名",width:100},
			{key:"abc.a",value:"班级",width:200,colspan:2},
			{key:"date",value:"日期",width:100},
			{key:"id",value:"操作",width:100,repla:replace}
		],
		page:true,//order:'asc',orderBy:'id',
		cb:function(a){
			//console.log(a);
		}
	});
	
	//console.log($(".htable")[0].data);
	$("#btt").click(function(){
		//console.log($("#htable")[0].data.getMulSelect());return;
		$("#htable")[0].update({
			data:{
				pageNo:100,
				a:200,
				c:'ccc'
			}
		});
	});

</script>
</body>
</html>
